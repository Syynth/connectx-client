
{Dispatcher} = require 'flux'
{SourceType} = require './config'

logging = false

class ConnectxDispatcher extends Dispatcher
  handleServerAction: (action) ->
    @dispatch
      source: SourceType.Server
      action: action
    if logging
      console.log "Dispatching server action #{action.type}"
  handleClientAction: (action) ->
    @dispatch
      source: SourceType.Client
      action: action
    if logging
      console.log "Dispatching client action #{action.type}"
  toggleLogging: ->
    logging = !logging

module.exports = new ConnectxDispatcher
