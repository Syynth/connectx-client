# @cjsx React.DOM

React = require 'react'
_ = require 'lodash'

{NotificationActionCreators, EntityActionCreators} = require 'connectx/actions'

module.exports = React.createClass
  updatePrivacy: (ev) ->
    NotificationActionCreators.postNotification {message: "Changing privacy setting to #{ev.target.value}"}
    EntityActionCreators.setPrivacy @props.entity, ev.target.value
  render: ->
    <div>
      <select onChange={@updatePrivacy}>
        <option selected={@props.entity.privacy is 'public'} value="public">Public (Visible to all)</option>
        <option selected={@props.entity.privacy is 'private'} value="private">Deactivated (Visible to no-one)</option>
      </select>
    </div>
