# @cjsx React.DOM

React = require 'react'
{CheckKeys} = require 'connectx/mixins'
{Navigation} = require 'react-router'

SearchForm = module.exports = React.createClass
  mixins: [CheckKeys, Navigation]
  getInitialState: -> {query: ''}
  updateQuery: -> @setState query: @refs.query.value
  enterPressed: -> @search()
  search: ->
    @updateQuery()
    @transitionTo 'search', query: @state.query
  render: ->
    <div className="search_wrapper">
      <input  className="search_field"
              value={@state.query}
              ref="query"
              onChange={@updateQuery}
              onKeyDown={@checkEnter}
              placeholder="Search Golf Connectx"
              type="search" />
      <button className="submit_search" onClick={@search}>
        <i className="fa fa-search" />
      </button>
    </div>
