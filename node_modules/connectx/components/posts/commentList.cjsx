# @cjsx React.DOM

React = require 'react'
{CommentStore} = require 'connectx/stores'
{AutoStoreListener} = require 'connectx/mixins'
Comment = require './comment'

CommentList = module.exports = React.createClass
  mixins: [AutoStoreListener CommentStore]
  render: ->
    <ul className="comment_list clearfix">
      {
        CommentStore.getCommentsForPost @props.postId
          .sort (a, b) -> a.createdAt > b.createdAt
          .map (c) -> <Comment {...@props} {...c} key={c.getId()} />
      }
    </ul>
