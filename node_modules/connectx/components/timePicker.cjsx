React = require 'react'
moment = require 'moment'


module.exports = React.createClass
  propTypes:
    onChange: React.PropTypes.func.isRequired
  _updateTime: ->
    hour = parseInt @refs.hour.getDOMNode().value
    min = parseInt @refs.min.getDOMNode().value
    am = @refs.am.getDOMNode().value
    @props.onChange hour, min, am
  render: ->
    <div>
      <span>H:</span>
      <select ref="hour" onChange={@_updateTime}>
        {
          for n in [1..12]
            <option value={n}>{n}</option>
        }
      </select>
      <span>M:</span>
      <select ref="min" onChange={@_updateTime}>
        {
          for n in [0..59] by 5
            <option value={n}>{n}</option>
        }
      </select>
      <select ref="am" onChange={@_updateTime}>
        <option value="am">AM</option>
        <option value="pm">PM</option>
      </select>
    </div>
