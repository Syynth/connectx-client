React = require 'react'
{Link} = require 'react-router'
TwoColumn = require 'connectx/components/twoColumn'
ThreeColumn = require 'connectx/components/threeColumn'
Bullitin = require 'connectx/components/bullitin'
UserDataForm = require './userDataForm'
AboutDisplay = require 'connectx/components/aboutDisplay'
{CurrentUserStore} = require 'connectx/stores'
EntityList = require 'connectx/components/entityList'
Inbox = require 'connectx/components/inbox'

getProps = ->
  current: CurrentUserStore.getCurrentActor() # current is the one to be acting as
  entity: CurrentUserStore.getCurrentUser() # enitty is the one to be rendered

About = React.createClass
  render: ->
    props = getProps()
    <TwoColumn>
      <Bullitin title="Settings">
        <AboutDisplay {...props} />
      </Bullitin>
    </TwoColumn>

Courses = React.createClass
  render: ->
    props = getProps()
    <TwoColumn>
      <Bullitin title="My Courses">
        <EntityList {...props} connectionType="strong" entityType="course" />
      </Bullitin>
      <Bullitin title="Course invitations">
        <EntityList {...props} connectionType="inbound" entityType="course" />
      </Bullitin>
    </TwoColumn>

Friends = React.createClass
  render: ->
    props = getProps()
    <TwoColumn>
      <Bullitin title="My Friends">
        <EntityList {...props} connectionType="strong" entityType="user" />
      </Bullitin>
      <Bullitin title="Friend requests">
        <EntityList {...props} connectionType="inbound" entityType="user" />
      </Bullitin>
    </TwoColumn>

Groups = React.createClass
  render: ->
    props = getProps()
    <TwoColumn>
      <Bullitin title="My Groups">
        <EntityList {...props} connectionType="strong" entityType="group" />
      </Bullitin>
      <Bullitin title="Group invitations">
        <EntityList {...props} connectionType="inbound" entityType="group" />
      </Bullitin>
    </TwoColumn>

Events = React.createClass
  render: ->
    props = getProps()
    <TwoColumn>
      <Bullitin title="My Events">
        <EntityList {...props} connectionType="strong" entityType="event" />
      </Bullitin>
      <Bullitin title="Event invitations">
        <EntityList {...props} connectionType="inbound" entityType="event" />
      </Bullitin>
    </TwoColumn>

Main = React.createClass
  render: ->
    props = getProps()
    <ThreeColumn {...props}>
      <Bullitin title="My Events">
        <EntityList {...props} connectionType="strong" entityType="event" />
      </Bullitin>
      <Bullitin title="My Groups">
        <EntityList {...props} connectionType="strong" entityType="group" />
      </Bullitin>
      <Bullitin title="My Courses">
        <EntityList {...props} connectionType="strong" entityType="course" />
      </Bullitin>
    </ThreeColumn>

Messages = React.createClass
  render: ->
    props = getProps()
    <TwoColumn>
      <Bullitin title="My Messages">
        <Inbox {...props} />
      </Bullitin>
    </TwoColumn>

Photos = React.createClass
  render: ->
    props = getProps()
    <TwoColumn>
      <Bullitin title="My Photos">Gallery coming soon</Bullitin>
    </TwoColumn>

Settings = React.createClass
  render: ->
    props = getProps()
    <TwoColumn>
      <Bullitin title="Settings">
        <UserDataForm {...props} />
      </Bullitin>
    </TwoColumn>

module.exports = { About, Courses, Friends, Groups, Events, Main, Messages, Photos, Settings }
