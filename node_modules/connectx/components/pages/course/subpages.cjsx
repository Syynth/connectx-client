React = require 'react'
{Link} = require 'react-router'
TwoColumn = require 'connectx/components/twoColumn'
ThreeColumn = require 'connectx/components/threeColumn'
Bullitin = require 'connectx/components/bullitin'
AboutDisplay = require 'connectx/components/aboutDisplay'
FileViewer = require 'connectx/components/fileViewer'
{CurrentUserStore} = require 'connectx/stores'
{
  CourseList,
  UserList,
  EventList,
  GroupList
} = require 'connectx/components/entity'
Gallery = require 'connectx/components/gallery'
sub = require '../subTemplates'

getProps = (props, title = "", requestTitle = "") ->
  title: title
  requestTitle: requestTitle
  data:
    current: CurrentUserStore.getCurrentActor()
    entity: props.entity
    admin: true
    type: 'strong'

Events = React.createClass
  render: ->
    props = getProps @props, "#{@props.entity.name}'s Events", "#{@props.entity.name}'s Event Requests"
    <sub.Events {...props} />

Groups = React.createClass
  render: ->
    props = getProps @props, "#{@props.entity.name}'s Groups", "#{@props.entity.name}'s Groups Invitations"
    <sub.Groups {...props} />

Location = React.createClass
  render: ->
    props = getProps @props
    <TwoColumn>
      <Bullitin title="#{props.entity.name}'s Location">
        <div {...props.data}>TODO: Tim</div>
      </Bullitin>
    </TwoColumn>

Main = React.createClass
  render: ->
    props = getProps @props
    <ThreeColumn {...props.data}>
      <Bullitin title="About #{props.entity.name}">
        <AboutDisplay {...props.data} />
      </Bullitin>
      <Bullitin title="#{props.entity.name}'s Members">
        <CourseList {...props.data} />
      </Bullitin>
    </ThreeColumn>

Members = React.createClass
  render: ->
    props = getProps @props, "#{@props.entity.name}'s Members", "#{@props.entity.name}'s Membership Requests"
    <sub.Members {...props} />

Messages = React.createClass
  render: ->
    props = getProps @props, "#{@props.entity.name}'s Messages"
    <sub.Messages {...props} />

Times = React.createClass
  render: ->
    props = getProps @props, "Tee times for #{@props.entity.name}", 'Upload Tee Times'
    props.data.propName = 'times'
    <sub.Files {...props} />

Results = React.createClass
  render: ->
    props = getProps @props, "Results for #{@props.entity.name}", 'Upload Results'
    props.data.propName = 'results'
    <sub.Files {...props} />

Photos = React.createClass
  render: ->
    props = getProps @props, "#{@props.entity.name}'s Photos", 'Upload photos'
    <sub.Photos {...props} />

Settings = React.createClass
  render: ->
    props = getProps @props
    <TwoColumn>
      <Bullitin title="#{@props.entity.name}'s Settings">
        <Gallery {...props.data} />
      </Bullitin>
    </TwoColumn>

module.exports = { Events, Groups, Location, Main, Members, Messages, Times, Results, Photos, Settings }
