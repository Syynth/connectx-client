###
Events/subpages.cjsx
###

React = require 'react'
{Link} = require 'react-router'
TwoColumn = require 'connectx/components/twoColumn'
ThreeColumn = require 'connectx/components/threeColumn'
Bullitin = require 'connectx/components/bullitin'
AboutDisplay = require 'connectx/components/aboutDisplay'
FileViewer = require 'connectx/components/fileViewer'
{CurrentUserStore} = require 'connectx/stores'
{
  EventList, EventForm,
  UserList,
  CourseList, CourseForm,
  GroupList, GroupForm
} = require 'connectx/components/entity'
Gallery = require 'connectx/components/gallery'
Inbox = require 'connectx/components/inbox'
{Upload, ImageUpload} = require 'connectx/components/file'

About = React.createClass
  render: ->
    <TwoColumn>
      <Bullitin title={@props.title}>
        <AboutDisplay {...@props.data} />
      </Bullitin>
    </TwoColumn>

Users = React.createClass
  render: ->
    <TwoColumn>
      {
        if @props.data.admin
          <Bullitin title={@props.requestTitle}>
            <UserList {...@props.data} type="inbound" />
          </Bullitin>
      }
      <Bullitin title={@props.title}>
        <UserList {...@props.data} />
      </Bullitin>
    </TwoColumn>

Courses = React.createClass
  render: ->
    <TwoColumn>
      {
        if @props.data.admin
          <Bullitin title={@props.requestTitle}>
            {
              if @props.data.create
                <CourseForm {...@props.data} />
            }
            <CourseList {...@props.data} type="inbound" />
          </Bullitin>
      }
      <Bullitin title={@props.title}>
        <CourseList {...@props.data} />
      </Bullitin>
    </TwoColumn>

Groups = React.createClass
  render: ->
    <TwoColumn>
      {
        if @props.data.admin
          <Bullitin title={@props.requestTitle}>
            {
              if @props.data.create
                <GroupForm {...@props.data} />
            }
            <GroupList {...@props.data} type="inbound" />
          </Bullitin>
      }
      <Bullitin title={@props.title}>
        <GroupList {...@props.data} />
      </Bullitin>
    </TwoColumn>

Events = React.createClass
  render: ->
    <TwoColumn>
      {
        if @props.data.admin
          <Bullitin title={@props.requestTitle}>
            {
              if @props.data.create
                <EventForm {...@props.data} />
            }
            <EventList {...@props.data} type="inbound" />
          </Bullitin>
      }
      <Bullitin title={@props.title}>
        <EventList {...@props.data} />
      </Bullitin>
    </TwoColumn>

Files = React.createClass
  render: ->
    <TwoColumn>
      {
        if @props.data.admin
          <Bullitin title={@props.requestTitle}>
            <Upload />
          </Bullitin>
      }
      <Bullitin title={@props.title}>
        <FileViewer {...@props.data} />
      </Bullitin>
    </TwoColumn>

Photos = React.createClass
  render: ->
    <TwoColumn>
      {
        if @props.data.admin
          <Bullitin title={@props.requestTitle}>
            <ImageUpload {...@props.data} />
          </Bullitin>
      }
      <Bullitin title={@props.title}>
        <Gallery {...@props.data} />
      </Bullitin>
    </TwoColumn>

Messages = React.createClass
  render: ->
    <TwoColumn>
      <Bullitin title={@props.title}>
        <Inbox {...@props.data} />
      </Bullitin>
    </TwoColumn>

module.exports = { About, Users, Groups, Courses, Events, Files, Photos, Messages }
