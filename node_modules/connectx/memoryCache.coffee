_ = require 'lodash'

class MemoryCache
  constructor: (@data = {}) ->
  # returns every item that is true for *predicate
  query: (predicate) ->
    @get key for key, val of @data when predicate val
  get: (key) ->
    return @data[key]
  set: (key, val) ->
    @data[key] = val
  unset: (key, val) ->
    delete @data[key]
  clear: -> @data = {}

module.exports = MemoryCache
