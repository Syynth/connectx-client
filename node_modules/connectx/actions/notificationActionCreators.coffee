
Dispatcher = require 'connectx/dispatcher'
{ActionType} = require 'connectx/config'

module.exports =
  postNotification: (raw) ->
    Dispatcher.handleClientAction
      type: ActionType.AddNotification
      message: raw.message
      detail: raw.detail || null
      status: raw.status || 'success'
      lifespan: raw.lifespan || 2500 # 2.5 seconds
  postErrors: (errs) ->
    for err in errs
      Dispatcher.handleClientAction
        type: ActionType.AddNotification
        message: err
        detail: null
        status: 'failure'
        lifespan: 2500
  removeNotification: (raw) ->
    Dispatcher.handleClientAction
      type: ActionType.RemoveNotification
      message: raw.message
      detail: raw.detail || null
      status: raw.status || 'success'
      lifespan: raw.lifespan || 2500 # 2.5 seconds
